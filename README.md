# Доска объявлений по типу Avito

**Описание проекта**

Проект представляет собой backend-часть для сайта объявлений.  
Реализован следующий функционал:

- Авторизация и аутентификация пользователей.
- Распределение ролей между пользователями (пользователь и админ).
- Восстановление пароля через электронную почту.
- **CRUD** для объявлений на сайте (админ может удалять или редактировать все объявления, а пользователи только свои).
- Под каждым объявлением пользователи могут оставлять отзывы.
- В заголовке сайта можно осуществлять поиск объявлений по названию.

---
## Запуск проекта через docker-compose

**Для проверки функционала восстановления пароля пользователя по e-mail, необходимо в файле _.env_ указать параметры
подключения к smtp-серверу.**

Перейти в папку `backend_compose`:
```python
cd backend_compose
```
Выполнить команду:
```python
docker-compouse up --build -d
```
Дождаться, когда статус контейнера `backend_compose-frontend-1` станет _Exited_.  
Фронтенд-часть проекта будет доступна по адресу `localhost:3000` и будет ваимодействовать с бэкенд-сервером.  
Можно переходить к тестированию.  

---
## Запуск проекта через django manage.py

### Установить зависимости

```python
pip install poetry
poetry install
```
### Запустить frontend-часть проекта.

Перейти в папку `market_postgres`:
```python
cd market_postgres
```
Выполнить команду:
```python
docker-compouse up --build -d
```

### Произвести миграцию таблиц в базу данных

```python
python manage.py migrate
```

### Загрузить фикстуры в базу данных

```python
python manage.py loaddata users.json
python manage.py loaddata ads.json
python manage.py loaddata comments.json
```

### Запустить сервер

```python
python manage.py runserver
```
Фронтенд-часть проекта будет доступна по адресу `localhost:3000` и будет ваимодействовать с запущенным бэкенд-сервером.
